1. price_cache：存储最新价格数据的缓存
2. active_pipelines：当前活跃的交易管道集合
3. redis：Redis客户端连接
4. metrics：性能指标收集器
主要方法：

1. new()：创建新的Engine实例，初始化各个组件
2. handle_price_update：处理价格更新，触发相关管道评估
3. evaluate_pipeline：评估单个管道的条件并执行操作
4. add_pipeline：添加新的交易管道
5. get_pipeline：获取指定管道信息
6. delete_pipeline：删除指定管道
这些方法通过操作字段来实现核心业务逻辑：监控价格变化、评估交易条件、执行交易操作，并维护整个交易系统的状态。


1. 管道初始化
- 通过分析步骤间的依赖关系找出入口步骤
- 将待处理的入口步骤添加到当前执行队列
- 同时考虑已完成步骤的后续步骤

2. 步骤执行流程
- 按顺序处理当前执行队列中的步骤
- 对于每个步骤，先评估其条件（如价格条件）
- 根据条件执行相应动作（交易订单或通知）
- 更新步骤状态（完成、失败、取消等）

3. 状态管理
- 完整的状态转换处理（Pending、Completed、Failed、Cancelled）
- 失败时自动取消所有下游步骤
- 使用Redis持久化存储管道状态

4. 错误处理和监控
- 完善的错误处理机制
- 使用metrics收集性能指标
- 通过tracing进行日志记录